{% extends 'base.html' %}

{% block content %}
  <style>
    /* CSS to add padding to table cells */
    .padded-cell {
      padding-left: 20px; /* Adjust this value as needed for desired spacing */
      padding-right: 20px;
    }
  </style>

  <h1>{{ quiz.title }}</h1>
  <h2>Student Attempts</h2>
  <table>
    <tr>
      <th style="text-align: center;">Student</th>
      <th class="padded-cell" style="text-align: center;">Score</th>
      <th class="padded-cell" style="text-align: center;">Percentile Among All Students</th>
      <th style="text-align: center;">Attempt Date</th>
    </tr>
    {% for attempt in student_attempts %}
      <tr>
        <td style="text-align: center;">{{ attempt.student.username }}</td>
        <td class="padded-cell" style="text-align: center;">{{ attempt.score }}/{{ quiz.questions.count }}</td>
        <td class="padded-cell" style="text-align: center;">{{ attempt.percentile }}%</td>
        <td style="text-align: center;">{{ attempt.date_attempted|date:"M d, Y H:i" }}</td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="4" style="text-align: center;">No attempts yet.</td>
      </tr>
    {% endfor %}
  </table>
  <a href="{% url 'quizzes:quiz_list' %}">Back to Quizzes</a>
{% endblock %}
